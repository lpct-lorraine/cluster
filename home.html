<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LPCT Cluster</title>
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
    <header>
        <h1>LPCT Cluster</h1>
        <nav>
            <ul>
                <li class="dropdown">
                    <a href="home.html">Home</a>
                    <ul class="dropdown-menu">
                        <li><a href="home.html#overview">Overview</a></li>
                        <li><a href="home.html#front_nodes">Frontend Nodes</a></li>
                        <li><a href="home.html#graph_session">Graphical Session</a></li>
                        <li><a href="home.html#external_access">External Access</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="hardware.html">Hardware</a>
                    <ul class="dropdown-menu">
                        <li><a href="hardware.html#partitions">Partitions</a></li>
                        <li><a href="hardware.html#network">Network</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="software.html">Software</a>
                    <ul class="dropdown-menu">
                        <li><a href="software.html#soft_env">Environment</a></li>
                        <li><a href="software.html#env_mod">Modules</a></li>
                        <li><a href="software.html#vir_env">Virtual Environment</a></li>
                    </ul>
                </li>
                <li class="dropdown">
                    <a href="slurm.html">Slurm</a>
                    <ul class="dropdown-menu">
                        <li><a href="slurm.html#job_man">Job Management</a></li>
                        <li><a href="slurm.html#slurm_opt">Slurm Options</a></li>
                        <li><a href="slurm.html#interac_sess">Interactive Sessions</a></li>
                    </ul>
                </li>
            </ul>
        </nav>
    </header>

    <main>
        <section id="overview">
            <h2>Overview</h2>
            <p>
            Welcome to the LPCT Cluster, a HPC platform featuring a heterogeneous architecture with x86 CPUs and NVIDIA GPUs.
            </p>
            
            <h3>Cluster Specifications</h3>
            <ul>
                <li><strong>Compute Nodes:</strong> Close to 250 nodes</li>
                <li><strong>Accelerated Nodes:</strong> About 100 nodes equipped with NVIDIA GPUs</li>
                <li><strong>Networking:</strong> 5 high-speed interconnect switches</li>
                <li><strong>Storage:</strong> Over 1 petabyte (PB) of disk space mounted via NFS</li>
            </ul>
        </section>

        <section id="front_nodes">
            <h2>Fronted Nodes</h2>

            <h3>Login Nodes</h3>
            <p>The cluster provides 4 login nodes:</p>
            <ul class="node-list">
                <li><code>lpct-login1.pct.site.univ-lorraine.fr</code></li>
                <li><code>lpct-login2.pct.site.univ-lorraine.fr</code></li>
                <li><code>lpct-login3.pct.site.univ-lorraine.fr</code></li>
                <li><code>lpct-login4.pct.site.univ-lorraine.fr</code></li>
            </ul>

            <h3>Visualization Nodes</h3>
            <p>Dedicated nodes for graphical applications with GPU acceleration:</p>
            <ul class="node-list">
                <li><strong>2 nodes with 2× NVIDIA RTX A5000:</strong>
                    <ul>
                        <li><code>lpct-visu1.lpct.site.univ-lorraine.fr</code></li>
                        <li><code>lpct-visu2.lpct.site.univ-lorraine.fr</code></li>
                    </ul>
                </li>
                <li><strong>1 node with 4× NVIDIA GeForce GTX 1070:</strong>
                    <ul>
                        <li><code>ebam-login.pct.site.univ-lorraine.fr</code></li>
                    </ul>
                </li>
                <li><strong>1 node with 4× NVIDIA GeForce GTX TITAN:</strong>
                    <ul>
                        <li><code>lia-login.pct.site.univ-lorraine.fr</code></li>
                    </ul>
                </li>
            </ul>
            
            <div class="note">
                <p>Access is available via:</p>
                <ul>
                    <li><strong>SSH:</strong> For command-line sessions</li>
                    <li><strong>TurboVNC:</strong> For graphical applications (<a href="home.html#graph_session">Graphical Session Guide</a>)</li>
                </ul>
            </div>
        </section>


        <section id="graph_session">
            <h2>Graphical Session</h2>

                <h3>X11 Forwarding</h3>
                    <p>
                    The simplest way to access a graphical interface on the cluster is via <strong>X11 forwarding</strong>. 
                    Use the <code>-X</code> flag with SSH:
                    </p>
                    <pre class="terminal"><code><span class="prompt">$</span> ssh -X USER@lpct-login</code></pre>

                    <p>
                    For better performance, enable compression by adding the <code>-C</code> flag:
                    </p>
                    <pre class="terminal"><code><span class="prompt">$</span> ssh -XC USER@lpct-login</code></pre>

                <h3>TurboVNC</h3>
                    <p>
                    For higher-performance remote desktop access, use <strong>TurboVNC</strong>.
                    Note that, only securized sessions via SSH are allowed. The required <strong>TurboVNC</strong> client version is <code>3.2</code> and can be
                    installed from <a href="https://github.com/TurboVNC/turbovnc/releases" target="_blank">the release website of turbovnc</a>.
                    </p>

                <h4>Setting up a TurboVNC session</h4>
                    <ol>
                        <li>
                            <p>On the login node, run:</p>
                            <pre class="terminal"><code><span class="prompt">$</span> /opt/TurboVNC/bin/vncpasswd</code></pre>
                            <p>and choose your VNC password</p>
                        </li>
                        <li>
                            <p>Then run:</p>
                            <pre class="terminal"><code><span class="prompt">$</span> /opt/TurboVNC/bin/vncserver</code></pre>
                            <p>to start a new session</p>
                        </li>
                        <li>
                            <p>A message like this should appear:</p>
                            <pre class="terminal"><code>Desktop 'TurboVNC: lpct-login:n (USER)' started on display lpct-login:n</code></pre>
                            <p>where the number <code>n</code> indicates the X display number of the <strong>TurboVNC</strong> session</p>
                        </li>
                    </ol>

                <h4>Managing TurboVNC sessions</h4>
                    <ul>
                        <li>
                            <p>To see all your VNC sessions, run:</p>
                            <pre class="terminal"><code><span class="prompt">$</span> /opt/TurboVNC/bin/vncserver -list</code></pre>
                        </li>
                        <li>
                            <p>To connect to a running session, run the following command on your local machine:</p>
                            <pre class="terminal"><code><span class="prompt">$</span> /opt/TurboVNC/bin/vncviewer -tunnel USER@lpct-login:n</code></pre>
                            <p>You will be prompted to enter your login password, followed by your VNC password.</p>
                            <p>Note that this is equivalent to running:</p>
                            <pre class="terminal"><code><span class="prompt">$</span> ssh -L (5900+$n):localhost:(5900+$n) USER@lpct-login</code></pre>
                            <p>and then, in a second terminal:</p>
                            <pre class="terminal"><code><span class="prompt">$</span> /opt/TurboVNC/bin/vncviewer localhost:n</code></pre>
                            <p>The first method uses the SSH client included with TurboVNC, while the second method uses your system's SSH client.</p>
                            <p>The first method uses TurboVNC's internal SSH library to create the tunnel automatically. The second method uses your system's 
                                native SSH client to create the tunnel manually, giving you more explicit control over the SSH connection.</p>
                        </li>
                        <li>
                            <p>To kill a session, use:</p>
                            <pre class="terminal"><code><span class="prompt">$</span> /opt/TurboVNC/bin/vncserver -kill :n</code></pre>
                        </li>
                    </ul>

        </section>

        <section id="external_access">
            <h2>External Access</h2>

            <p>To access the cluster from an external network, you must connect through the University of Lorraine's VPN using the Cisco Secure Client.</p>

            <h3>1. Download the Client</h3>
            <p>
                Use your UL account to authenticate on the <a href="https://vpn.lothaire.net" target="_blank">university's VPN portal</a>.
                Select the group <code>Universite-de-Lorraine</code> (remember to append <code>@ul</code> to your username). From here, you can
                download the Cisco Secure Client for your machine.
            </p>

            <h3>2. Configure the Connection</h3>
            <p>Open the Cisco Secure Client and configure a new connection with the following settings:</p>
            <ul>
                <li><strong>Server:</strong> vpn.lothaire.net</li>
                <li><strong>Group:</strong> Universite-de-Lorraine</li>
                <li><strong>Username:</strong> your_username@lpct</li>
                <li><strong>Password:</strong> Your UL password</li>
            </ul>

            <p>Once configured, you can connect to the VPN and will then have access to the cluster network.</p>
        </section>
    </main>

    <footer>
        <p><small>Contact: <a href="mailto:abdallah.ammar@univ-lorraine.fr">Abdallah Ammar</a>, Research Engineer | CNRS - LPCT</small></p>
    </footer>

</body>
</html>
