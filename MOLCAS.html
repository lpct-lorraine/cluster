<html>
<head><title>MOLCAS</title></head>
<body>
<h1>MOLCAS</h1><p><br />
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Web_site"><span class="tocnumber">1</span> <span class="toctext">Web site</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Environment_module"><span class="tocnumber">2</span> <span class="toctext">Environment module</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#R.C3.A9f.C3.A9rent_scientifique"><span class="tocnumber">3</span> <span class="toctext">Référent scientifique</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Compilation"><span class="tocnumber">4</span> <span class="toctext">Compilation</span></a>
<ul>
<li class="toclevel-2 tocsection-5"><a href="#Serial"><span class="tocnumber">4.1</span> <span class="toctext">Serial</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="#Parallel_MPI"><span class="tocnumber">4.2</span> <span class="toctext">Parallel MPI</span></a></li>
<li class="toclevel-2 tocsection-7"><a href="#Pr.C3.A9-requis"><span class="tocnumber">4.3</span> <span class="toctext">Pré-requis</span></a></li>
<li class="toclevel-2 tocsection-8"><a href="#Probl.C3.A8me_de_compilation"><span class="tocnumber">4.4</span> <span class="toctext">Problème de compilation</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-9"><a href="#Opensource_version"><span class="tocnumber">5</span> <span class="toctext">Opensource version</span></a>
<ul>
<li class="toclevel-2 tocsection-10"><a href="#Pr.C3.A9-requis_2"><span class="tocnumber">5.1</span> <span class="toctext">Pré-requis</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="#explor"><span class="tocnumber">5.2</span> <span class="toctext">explor</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="#labo"><span class="tocnumber">5.3</span> <span class="toctext">labo</span></a>
<ul>
<li class="toclevel-3 tocsection-13"><a href="#Compilation_2"><span class="tocnumber">5.3.1</span> <span class="toctext">Compilation</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1 tocsection-14"><a href="#Serial_version_for_NEVPT2_with_QC-Maquis"><span class="tocnumber">6</span> <span class="toctext">Serial version for NEVPT2 with QC-Maquis</span></a></li>
<li class="toclevel-1 tocsection-15"><a href="#Installation_of_QCMaquis_interface"><span class="tocnumber">7</span> <span class="toctext">Installation of QCMaquis interface</span></a>
<ul>
<li class="toclevel-2 tocsection-16"><a href="#doc"><span class="tocnumber">7.1</span> <span class="toctext">doc</span></a></li>
<li class="toclevel-2 tocsection-17"><a href="#Prerequisites"><span class="tocnumber">7.2</span> <span class="toctext">Prerequisites</span></a></li>
<li class="toclevel-2 tocsection-18"><a href="#config_and_install"><span class="tocnumber">7.3</span> <span class="toctext">config and install</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-19"><a href="#Installation"><span class="tocnumber">8</span> <span class="toctext">Installation</span></a></li>
<li class="toclevel-1 tocsection-20"><a href="#References"><span class="tocnumber">9</span> <span class="toctext">References</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="Web_site">Web site</span></h1>
<p><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://www.molcas.org/">http://www.molcas.org/</a>
</p><p><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://gitlab.com/Molcas/OpenMolcas">https://gitlab.com/Molcas/OpenMolcas</a>
</p><p><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://molcas.gitlab.io/OpenMolcas/sphinx/installation.guide">https://molcas.gitlab.io/OpenMolcas/sphinx/installation.guide</a>
</p><p><br />
QCMaquis manual&#160;: <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://scine.ethz.ch/static/download/manuals/qcmaquis_manual.pdf">https://scine.ethz.ch/static/download/manuals/qcmaquis_manual.pdf</a>
</p><p><br />
</p>
<h1><span class="mw-headline" id="Environment_module">Environment module</span></h1>
<ul><li> Compiled in May 2021, Parallel version with qcmaquis and MKL</li></ul>
<p>module load openmolcas/v20.10_gnu8.4_mpi4.1_qcmaquis
</p>
<ul><li> Compiled in May 2021, Serial version with qcmaquis and MKL</li></ul>
<p>module load openmolcas/v20.10_gnu8.4_seq_qcmaquis
</p>
<ul><li> compiled in July2019</li></ul>
<p>module load molcas/intel19-july2019
</p>
<h1><span class="mw-headline" id="R.C3.A9f.C3.A9rent_scientifique">Référent scientifique</span></h1>
<p>Antonio Monari
</p>
<h1><span class="mw-headline" id="Compilation">Compilation</span></h1>
<h2><span class="mw-headline" id="Serial">Serial</span></h2>
<p>(Sur les conseils d'Alain.)
</p><p>Je reprends la compil en suivant les conseils d'Alain.
</p>
<pre>
ssh gpu4-02
login tmssoft 
sudo yum install hdf5-devel
python3 -m pip install pyparsing --user
git clone https://gitlab.com/Molcas/OpenMolcas.git
cd OpenMolcas
git submodule update --init External/lapack
cd ..
mkdir build
cd build/

module load compiler/gnu-8.4.0
source /auto/soft/compiler/intel/psxe-19u5/compilers_and_libraries_2019.5.281/linux/mkl/bin/mklvars.sh intel64

FC=gfortran CC=gcc CXX=g++ \
cmake3 \
-DBoost_NO_SYSTEM_PATHS=TRUE \
-DBOOST_ROOT=/auto/soft/boost/1.69-gnu8.4.0/ \
-DNEVPT2=ON \
-DDMRG=ON \
-DLINALG=MKL \
-DCMAKE_INSTALL_PREFIX=/auto/soft/openmolcas/apr2021-serial-gnu8.4.0-mkl-qcmaquis \
../OpenMolcas/

make -j8
make install

</pre>
<h2><span class="mw-headline" id="Parallel_MPI">Parallel MPI</span></h2>
<pre>
ssh gpu4-02
login tmssoft 
sudo yum install hdf5-devel
python3 -m pip install pyparsing --user

module load compiler/gnu-8.4.0 openmpi/4.1.0-gnu-8.4.0
source /auto/soft/compiler/intel/psxe-19u5/compilers_and_libraries_2019.5.281/linux/mkl/bin/mklvars.sh intel64

export GAROOT=/auto/soft/GlobalArray/v5.8/gnu-8.4.0
export LD_LIBRARY_PATH=/auto/soft/GlobalArray/v5.8/gnu-8.4.0/lib/:$LD_LIBRARY_PATH
export LIBRARY_PATH=/auto/soft/GlobalArray/v5.8/gnu-8.4.0/lib/:$LIBRARY_PATH

git clone https://gitlab.com/Molcas/OpenMolcas.git
cd OpenMolcas
git submodule update --init External/lapack
cd ..
mkdir build_mpi
cd build_mpi/



FC=gfortran CC=gcc CXX=g++ \
cmake3 \
-DBoost_NO_SYSTEM_PATHS=TRUE \
-DBOOST_ROOT=/auto/soft/boost/1.69-gnu8.4.0/ \
-DNEVPT2=ON \
-DDMRG=ON \
-DLINALG=MKL \
-DMPI_Fortran_COMPILER=mpifort \
-DMPI_C_COMPILER=mpicc \
-DMPI_CXX_COMPILER=mpic++ \
-DMPI=ON \
-DGA=ON \
-DOPENMP=ON \
-DHDF5=ON \
-DTOOLS=ON \
-DCMAKE_INSTALL_PREFIX=/auto/soft/openmolcas/apr2021-opnmpi4.1.0-gnu8.4.0-mkl-qcmaquis \
../OpenMolcas/

make -j8
make install

</pre>
<h2><span class="mw-headline" id="Pr.C3.A9-requis">Pré-requis</span></h2>
<ul><li> Recompilation de boost</li></ul>
<p>screen gpu4-02 11.05.2021 12h15
</p>
<pre>
tar -xzf boost_1_69_0.tar.gz
cd boost_1_69_0
./bootstrap.sh --prefix=/auto/soft/boost/1.69-gnu8.4.0
./b2 install --prefix=/auto/soft/boost/1.69-gnu8.4.0 --with=all
</pre>
<p>Après recompilation de boot, la compilation fonctionne.
</p>
<pre>
ls /auto/soft/lammps/apr2021-serial-gnu8.4.0-mkl/bin/
alaska.exe  chcc.exe     espf.exe    gateway.exe   gugadrt.exe       mbpt2.exe     mpprop.exe  numerical_gradient.exe  rasscf.exe  single_aniso.exe
averd.exe   cht3.exe     expbas.exe  genano.exe    guga.exe          mckinley.exe  mpssi.exe   parnell.exe             rassi.exe   slapaf.exe
caspt2.exe  cpf.exe      extf.exe    grid_it.exe   last_energy.exe   mclr.exe      mrci.exe    poly_aniso.exe          rpa.exe     surfacehop.exe
casvb.exe   dmrgscf.exe  false.exe   guessorb.exe  localisation.exe  mcpdft.exe    mula.exe    qmstat.exe              scf.exe     vibrot.exe
ccsdt.exe   dynamix.exe  ffpt.exe    gugaci.exe    loprop.exe        motra.exe     nevpt2.exe  quater.exe              seward.exe

</pre>
<ul><li> Compilation de openmpi-4.0.1</li></ul>
<pre>
module laod compiler/gnu-8.4.0
cd openmpi-4.1.0
./configure --prefix=/auto/soft/openmpi/4.1.0-gnu-8.4.0
make -j 8
make install
</pre>
<p>NOTES:
</p>
<pre>
WARNING: Open MPI now ignores the F77 and FFLAGS environment variables; only the FC and FCFLAGS environment variables are used
</pre>
<h2><span class="mw-headline" id="Probl.C3.A8me_de_compilation">Problème de compilation</span></h2>
<ul><li> GNU 4.8.5 failed make à 60% QCMAQUIS</li></ul>
<pre>

[ 60%] Building Fortran object CMakeFiles/slapaf_util/CMakeFiles/slapaf_util_obj.dir/write_qmmm.f.o
[ 60%] Built target slapaf_util_obj
make[4]: *** [alps/src/alps/CMakeFiles/alps.dir/all] Error 2
make[3]: *** [all] Error 2
make[2]: *** [External/qcmaquis/src/qcmaquis-stamp/qcmaquis-build] Error 2
make[1]: *** [External/qcmaquis/CMakeFiles/qcmaquis.dir/all] Error 2
make: *** [all] Error 2
</pre>
<ul><li> gnu-7.5.0</li></ul>
<pre>
../../lib/maquis_dmrg/libmaquis_dmrg.so: undefined reference to `boost::archive::text_oarchive_impl&lt;boost::archive::text_oarchive&gt;::save(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)'
...
/auto/soft/boost1.69/include/boost/pending/integer_log2.hpp:7:59: note: #pragma message: This header is deprecated. Use &lt;boost/integer/integer_log2.hpp&gt; instead.
 BOOST_HEADER_DEPRECATED("&lt;boost/integer/integer_log2.hpp&gt;");
                                                           ^
[100%] Linking CXX executable mps_transform_pg
[100%] Built target mps_transform_pg
make[3]: *** [all] Error 2
make[2]: *** [External/qcmaquis/src/qcmaquis-stamp/qcmaquis-build] Error 2
make[1]: *** [External/qcmaquis/CMakeFiles/qcmaquis.dir/all] Error 2
make: *** [all] Error 2
</pre>
<h1><span class="mw-headline" id="Opensource_version">Opensource version</span></h1>
<h2><span class="mw-headline" id="Pr.C3.A9-requis_2">Pré-requis</span></h2>
<p>Pour activer l'option NEVPT2, on a besoin de DMRG qui nécessite Global Array.
</p><p>Installation de Global Array sous forme de module:w
</p><p><br />
</p>
<pre>
git clone https://github.com/GlobalArrays/ga.git GlobalArray
cd GlobalArray
./autogen.sh
./configure --prefix=/auto/soft/GlobalArray/v5.7
make
make install
</pre>
<h2><span class="mw-headline" id="explor">explor</span></h2>
<pre>
module load git openmpi/3.0.1/gcc/5.4.0 cmake/3.15.5 python/intel/2019/3

export GA_INCLUDE_PATH=/projects/pmg89/shared/tools/GlobalArray/5.8/include/
export GAROOT=/projects/pmg89/shared/tools/GlobalArray/5.8

source /home/pmg89/shared/molcas/virtualenv-molcas/bin/activate

cd /home/pmg89/shared/molcas/
git clone https://gitlab.com/Molcas/OpenMolcas.git

cd /home/pmg89/shared/molcas/OpenMolcas/

git submodule update --init External/lapack
cmake ../OpenMolcas -DCMAKE_INSTALL_PREFIX=/projects/pmg89/shared/molcas/v20.10-std-mpi -DMPI=ON  -DGA=ON  -DOPENMP=ON  -DTOOLS=ON  -DGA_INCLUDE_PATH=/projects/pmg89/shared/tools/GlobalArray/5.8/include/
</pre>
<h2><span class="mw-headline" id="labo">labo</span></h2>
<h3><span class="mw-headline" id="Compilation_2">Compilation</span></h3>
<pre>
source /auto/soft/molcas/virtualenv-molcas/bin/activate
module load openmpi/3.0.0_gnu-5.2.0
export GA_INCLUDE_PATH=/auto/soft/GlobalArray/v5.8_gnu5.2/include/
export GAROOT=/auto/soft/GlobalArray/v5.7_gnu5.2

cmake3 ../ -DCMAKE_INSTALL_PREFIX=/auto/soft/openmolcas/v20.10-std-mpi  -DMPI=ON  -DGA=ON  -DOPENMP=ON  -DTOOLS=ON  -DGA_INCLUDE_PATH=/auto/soft/GlobalArray/v5.7_gnu5.2/include/
make -j 4
make install
</pre>
<p><br />
Problème avec pymolcas et ses dependences
</p>
<pre>
virtualenv -p python3 /auto/soft/molcas/virtualenv-molcas

source /auto/soft/molcas/virtualenv-molcas/bin/activate

pip install --upgrade pip
pip install pyparsing
pip install six
</pre>
<pre>
 git clone https://gitlab.com/Molcas/OpenMolcas.git
 cd OpenMolcas
 module load compiler/intel19u5
 mkdir build &amp; cd build

export FC=mpiifort
export CC=mpiicc
export CXX=mpiicpc

export GAROOT=/auto/soft/GlobalArray/v5.8
export GA_INCLUDE_PATH=/auto/soft/GlobalArray/v5.8/include/

cmake3 ../ -DLINALG=MKL -DCMAKE_INSTALL_PREFIX=/auto/soft/openmolcas/v20.10_parallel \
 -DMKLROOT=/auto/soft/compiler/intel/psxe-19u5/mkl/ \
 -DMPI_Fortran_COMPILER=mpiifort \
 -DMPI_C_COMPILER=mpiicc \
 -DMPI_CXX_COMPILER=mpiicpc \
 -DMPI=ON \
 -DGA=ON \
 -DOPENMP=ON \
 -DLINALG=MKL \
 -DHDF5=ON \
 -DTOOLS=ON \
 -DGA_INCLUDE_PATH=/auto/soft/GlobalArray/v5.8/include/ 


cmake3 ../ -DLINALG=MKL -DCMAKE_INSTALL_PREFIX=/auto/soft/openmolcas/v20.10 -DMKLROOT=/auto/soft/compiler/intel/psxe-19u5/mkl/ \
         -DMPI_Fortran_COMPILER=mpiifort \
         -DMPI_C_COMPILER=mpiicc \
         -DMPI_CXX_COMPILER=mpiicpc \
         -DMPI=ON \
         -DDMRG=ON \
         -DNEVPT2=ON \
         -DGA=ON \
         -DOPENMP=ON \
         -DLINALG=MKL \
         -DHDF5=ON \
         -DTOOLS=ON \
         -DFDE=ON \
         -DGRID_IT=ON \
         -DNECI=OFF \
         -DMSYM=ON \
         -DQCMaquis_NAME="Your Name" -DQCMaquis_EMAIL="your@email.com" \
       
</pre>
<pre>
Configuring compilers:
Detecting Molcas version info:
-- OPENMOLCAS_VERSION: v18.09-554-g820b504-dirty
Detecting system info:
-- OS: Linux-x86_64
-- ADDRMODE: 64
-- PLATFORM: LINUX64
Configuring with external GA library:
-&gt; no libibverbs dependency found for GA.
-- GA_INCLUDE_PATH: /auto/soft/GlobalArray/v5.8/include
-- GA_LIBRARIES: /auto/soft/GlobalArray/v5.8/lib/libga.a;/auto/soft/GlobalArray/v5.8/lib/libarmci.a
Configuring with MPI parallellization:
-- MPI_C_INCLUDE_PATH: 
-- MPI_Fortran_INCLUDE_PATH: 
-- MPI_C_LIBRARIES: 
-- MPI_Fortran_LIBRARIES: 
-- MPIEXEC: /auto/soft/compiler/intel/psxe-19u3/compilers_and_libraries_2019.3.199/linux/mpi/intel64/bin/mpiexec
-- MPI_IMPLEMENTATION: impi
Configuring HDF5 support:
-- HDF5: Using hdf5 compiler wrapper to determine C configuration
-- HDF5: Using hdf5 compiler wrapper to determine Fortran configuration
-- HDF5: Using hdf5 compiler wrapper to determine CXX configuration
-- HDF5_INCLUDE_DIRS: /usr/lib64/gfortran/modules;/usr/include
-- HDF5_C_LIBRARIES: /usr/lib64/libhdf5.so;/usr/lib64/libsz.so;/usr/lib64/libz.so;/usr/lib64/libdl.so;/usr/lib64/libm.so
-- HDF5_CXX_LIBRARIES: /usr/lib64/libhdf5_cpp.so;/usr/lib64/libhdf5.so;/usr/lib64/libsz.so;/usr/lib64/libz.so;/usr/lib64/libdl.so;/usr/lib64/libm.so
Configuring linear algebra libraries:
-- Using Intel Math Kernel Library (MKL)
-- MKLROOT = /auto/soft/compiler/intel/psxe-19u5/mkl
-- MKL_INCLUDE_PATH = /auto/soft/compiler/intel/psxe-19u5/mkl/include
-- MKL_LIBRARY_PATH = /auto/soft/compiler/intel/psxe-19u5/mkl/lib/intel64
-- LINALG_LIBRARIES: /auto/soft/compiler/intel/psxe-19u5/mkl/lib/intel64/libmkl_scalapack_ilp64.so;/auto/soft/compiler/intel/psxe-19u5/mkl/lib/intel64/libmkl_intel_ilp64.so;/auto/soft/compiler/intel/psxe-19u5/mkl/lib/intel64/libmkl_core.so;/auto/soft/compiler/intel/psxe-19u5/mkl/lib/intel64/libmkl_intel_thread.so;/auto/soft/compiler/intel/psxe-19u5/mkl/lib/intel64/libmkl_blacs_intelmpi_ilp64.so
Gromacs interface DISABLED
BLOCK interface DISABLED
CHEMPS2 interface DISABLED
Configuring MSYM support:
-- MSYM_INCLUDE_PATH: /auto/store/tmssoft/OpenMolcas/External/libmsym/src;/auto/store/tmssoft/OpenMolcas/build/External/libmsym
-- MSYM_LIBRARIES: msym
Configuring QCMaquis DMRG support:
-- Your name (used to download QCMaquis): Your Name
-- Your email (used to download QCMaquis): your@email.com
-- QCMaquis DMRG not found. A pre-packaged version will be built.
--  Python 2: (for QCMaquis DMRG interface): 
--   path  &#160;: /bin/python2
--   version: 2.7
--  Python 2 libraries: 
--   path   &#160;: /usr/lib64/libpython2.7.so
--   Python.h: /usr/include/python2.7
-- ALPS_ROOT and BOOST_ROOT: /auto/store/tmssoft/OpenMolcas/build/alps
-- DMRG_INCLUDE_PATH: /auto/store/tmssoft/OpenMolcas/build/mod
-- DMRG_LIBRARIES: /auto/store/tmssoft/OpenMolcas/build/lib/libqcmaquis-driver-utils.a
Configuring HDF5 QCMaquis support:
-- HDF5_QCM_INCLUDE_PATH: /auto/store/tmssoft/OpenMolcas/build/mod
-- HDF5_QCM_LIBRARIES: /auto/store/tmssoft/OpenMolcas/build/lib/libHDF5interface.a
NECI interface DISABLED
EFP interface DISABLED
GEN1INT support DISABLED
libwfa support DISABLED
-- NEVPT2_LIBRARIES: /auto/store/tmssoft/OpenMolcas/build/External/nevpt2_ext/src/nevpt2_ext-build/libqdnevpt2.a;/auto/store/tmssoft/OpenMolcas/build/External/nevpt2_ext/src/nevpt2_ext-build/libAUXLIB_F.a
Configuring external GRID_IT:
-- Source found, external GRID_IT enabled
Configuring runtime environment settings:
-- DEFMOLCASMEM:  2048
-- DEFMOLCASDISK: 20000
-- RUNSCRIPT:    $program $input
-- RUNBINARY:    /auto/soft/compiler/intel/psxe-19u3/compilers_and_libraries_2019.3.199/linux/mpi/intel64/bin/mpiexec -n $MOLCAS_NPROCS  $program
-- RUNBINARYSER: $program
Build type: Release
-- C compiler: /auto/soft/compiler/intel/psxe-19u3/compilers_and_libraries_2019.3.199/linux/mpi/intel64/bin/mpiicc
-- C compiler flags:  -std=gnu99 -qopenmp -O2
-- Fortran compiler: /auto/soft/compiler/intel/psxe-19u3/compilers_and_libraries_2019.3.199/linux/mpi/intel64/bin/mpiifort
-- Fortran compiler flags:  -fpp -i8 -r8 -heap-arrays -qopenmp -O2 -traceback
-- Definitions: _MOLCAS_;_I8_;_LINUX_;_GA_;_MOLCAS_MPP_;SCALAPACK;_MKL_;_FDE_;_DMRG_
-- Debug definitions: 
Configuring tools:
-- CIsandbox: ignored (no CMake support)
-- Coord: ignored (no CMake support)
-- dailymerge: ignored (no CMake support)
-- docker: ignored (no CMake support)
-- dynamixtools: added to targets
-- extra_tests: ignored (no CMake support)
-- grid2cube: added to targets
-- job2asc: added to targets
-- patch2tinker: ignored (no CMake support)
-- pymolcas: added to targets
-- rf2asc: added to targets
-- runtests: ignored (no CMake support)
-- rysroots: ignored (no CMake support)
-- syntax: ignored (no CMake support)
-- verify: ignored (no CMake support)
Definitions: -D_MOLCAS_;-D_I8_;-D_LINUX_;-D_GA_;-D_MOLCAS_MPP_;-DSCALAPACK;-D_MKL_;-D_FDE_;-D_DMRG_
Configuring documentation
-- Sphinx compiler: no sphinx-build available, documentation disabled
Install directory: /auto/soft/openmolcas/v20.10
-- Configuring done
-- Generating done
-- Build files have been written to: /auto/store/tmssoft/OpenMolcas/build
</pre>
<pre>make -j12
make -j12 install
</pre>
<h1><span class="mw-headline" id="Serial_version_for_NEVPT2_with_QC-Maquis">Serial version for NEVPT2 with QC-Maquis</span></h1>
<p>As suggested in this issue&#160;:
<a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://gitlab.com/Molcas/OpenMolcas/-/issues/125">https://gitlab.com/Molcas/OpenMolcas/-/issues/125</a>
</p><p><br />
</p>
<pre>hdf5 python-devel scipy numpy  hdf5-devel gsl-devel boost169-devel
</pre>
<pre>

wget https://dl.bintray.com/boostorg/release/1.69.0/source/boost_1_69_0.tar.gz
tar -xzf boost_1_*
cd boost_1_*
./bootstrap.sh --prefix=/auto/soft/boost1.69
./b2 install --prefix=/auto/soft/boost1.69 --with=all

git checkout --track origin/qcmaquis-release
 wget https://gitlab.com/Molcas/OpenMolcas/-/archive/qcmaquis-release/OpenMolcas-qcmaquis-release.tar.bz2


mkdir build&#160;; cd build

source /auto/soft/compiler/intel/psxe-19u5/mkl/bin/mklvars.sh intel64
source /auto/soft/compiler/intel/psxe-19u5/compilers_and_libraries/linux/bin/compilervars.sh intel64

source /auto/soft/molcas/virtualenv-molcas/bin/activate

export FC=ifort
export CC=icc
export CXX=icpc

cmake3 ../ \
 -DLINALG=MKL -DCMAKE_INSTALL_PREFIX=/auto/soft/openmolcas/v20.10-serial \
 -DMKLROOT=/auto/soft/compiler/intel/psxe-19u5/mkl/ \
          -DMPI=OFF \
          -DDMRG=ON \
          -DNEVPT2=ON \
          -DGA=ON \
          -DOPENMP=ON \
          -DLINALG=MKL \
          -DHDF5=ON \
          -DTOOLS=ON \
          -DFDE=ON \
          -DGRID_IT=ON \
          -DNECI=OFF \
          -DMSYM=ON \
         -DQCMaquis_NAME="Your Name" -DQCMaquis_EMAIL="your@email.com" \
-DBoost_INCLUDE_DIR=/auto/soft/boost1.69/include/
</pre>
<h1><span class="mw-headline" id="Installation_of_QCMaquis_interface">Installation of QCMaquis interface</span></h1>
<h2><span class="mw-headline" id="doc">doc</span></h2>
<p><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://scine.ethz.ch/download/qcmaquis">https://scine.ethz.ch/download/qcmaquis</a>
</p><p>Section 7.1 of <a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://scine.ethz.ch/static/download/manuals/qcmaquis_manual.pdf">https://scine.ethz.ch/static/download/manuals/qcmaquis_manual.pdf</a>
</p>
<h2><span class="mw-headline" id="Prerequisites">Prerequisites</span></h2>
<p>In order to install either QCMaquisor the quantum chemistry package OpenMolcas
with DMRG support through the QCMaquissoftware suite [5, 8], requires thefollowing libraries/programs:
</p>
<ul><li>  Git</li>
<li>  Python version 2.xwithx≥7, with SciPy and NumPy</li>
<li>  HDF5 (<a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://www.hdfgroup.org/HDF5">http://www.hdfgroup.org/HDF5</a>) with Python2 bindings (h5py)</li>
<li>  SZIP  </li>
<li> GNU Scientific Library GSL (<a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://www.gnu.org/software/gsl/">http://www.gnu.org/software/gsl/</a>)</li>
<li>  CMake version≥3.7 (<a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://cmake.org/">https://cmake.org/</a>)</li></ul>
<p>Please  make  sure  that  these  libraries/programs  are  available  and  their  location  is visible in your
$PATH
and
$LD_LIBRARY_PATH, respectively.
</p><p><br />
</p>
<pre>gsl-devel hdf5-devel
</pre>
<p><br />
QCMaquis in OpenMolcas is tested and officially supported for Linux (x86_64) and MacOS X (10.12.x and 10.13.x ) operating systems. 
We support GCC compilers start-ing from 5.x up to 7.x along with the MKL (Linux, x86_64) and MKL/Accelerate (MacOS X) math libraries, 
respectively, to successfully build theQCMaquissoftware suitewithinOpenMolcas. Note that other combinations might work equally well but they are not officially supported at present.
</p>
<h2><span class="mw-headline" id="config_and_install">config and install</span></h2>
<pre>source /auto/soft/molcas/virtualenv-molcas/bin/activate
source /auto/soft/compiler/intel/psxe-19u5/compilers_and_libraries_2019/linux/bin/compilervars.sh intel64
source /auto/soft/compiler/intel/psxe-19u5/intelpython2/bin/mpivars.sh intel64
</pre>
<pre>
export MKLROOT=/auto/soft/compiler/intel/psxe-19u5/compilers_and_libraries_2019.5.281/linux/mkl
export LOCAL_QCM_INSTALL_PATH=/auto/soft/QCMaquis/jan21
CC=mpiicc CXX=mpiicpc

CC=gcc CXX=g++ cmake3 \
-DQCM_standalone=ON \
-DQCMaquis_NAME="Fabien PASCALE" -DQCMaquis_EMAIL="fabien.pascale@univ-lorraine.fr" \
-DCMAKE_INSTALL_PREFIX=/auto/soft/QCMaquis/jan21 \
-DBLAS_LAPACK_SELECTOR=mkl_parallel \
-DBUILD_OPENMOLCAS_INTERFACE
</pre>
<p><br />
</p>
<pre>
CMake Warning:
  No source or binary directory provided.  Both will be assumed to be the
  same as the current working directory, but note that this warning will
  become a fatal error in future CMake releases.


-- local installation path for QCMaquis/ALPS: /auto/store/tmssoft/QCmaquis/build
--   path  &#160;: /bin/python2
--   version: 2.7
--  Python libraries: 
--   path   &#160;: /usr/lib64/libpython2.7.so
--   Python.h: /usr/include/python2.7
Check for cmake-configured HDF5
-- Could NOT find HDF5 (missing: HDF5_DIR)
Check for non-cmake-configured HDF5
-- Found HDF5: /usr/lib64/libhdf5_hl.so;/usr/lib64/libhdf5.so;/usr/lib64/libsz.so;/usr/lib64/libz.so;/usr/lib64/libdl.so;/usr/lib64/libm.so  
-- HDF5 support found!
-- FindGSL: Found both GSL headers and library
-- Found OpenMP_C: -fopenmp (found version "3.1") 
-- Found OpenMP_CXX: -fopenmp (found version "3.1") 
-- Found OpenMP_Fortran: -fopenmp (found version "3.1") 
-- Found OpenMP: TRUE (found version "3.1")  
-- ALPS_ROOT and BOOST_ROOT: /auto/store/tmssoft/QCmaquis/build/alps
-- Configuring done
-- Generating done
-- Build files have been written to: /auto/store/tmssoft/QCmaquis/build

</pre>
<h1><span class="mw-headline" id="Installation">Installation</span></h1>
<p><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="http://www.molcas.org/download.html">http://www.molcas.org/download.html</a>
</p><p>Binary executables of the sequential and parallel versions are installed on /auto/soft/molcas/precompiled-8.0sp1 on tejo/lisboa master node.
</p><p>Archive files used: molcas-8.0sp1_CentOS-6.6.tgz, molcas-8.0sp1_OpenMPI-1.8.1_CentOS-6.6.tgz
</p>
<h1><span class="mw-headline" id="References">References</span></h1>




</body></html>