<html>
<head><title>Unix - commandes de base</title></head>
<body>
<h1>Unix - commandes de base</h1><p><a href="http://wiki.pct.univ-lorraine.fr/index.php/File:Construct.jpg" class="image"><img alt="Construct.jpg" src="img/Construct.jpg" width="114" height="20" /></a>
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#Commandes_de_base"><span class="tocnumber">1</span> <span class="toctext">Commandes de base</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Activer_SSH"><span class="tocnumber">2</span> <span class="toctext">Activer SSH</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Nettoyer_sa_partition_.2Fboot"><span class="tocnumber">3</span> <span class="toctext">Nettoyer sa partition <b>/</b>boot</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Changer_le_Hostname_.28nom_d.27ordinateur.29_sous_Ubuntu"><span class="tocnumber">4</span> <span class="toctext">Changer le Hostname (nom d'ordinateur) sous Ubuntu</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Copier_vers"><span class="tocnumber">5</span> <span class="toctext">Copier vers</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Modification_des_droits:_Molden"><span class="tocnumber">6</span> <span class="toctext">Modification des droits: Molden</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="#Fermer_une_application_qui_ne_r.C3.A9pond_plus"><span class="tocnumber">7</span> <span class="toctext">Fermer une application qui ne répond plus</span></a></li>
<li class="toclevel-1 tocsection-8"><a href="#Pour_passer_en_ROOT"><span class="tocnumber">8</span> <span class="toctext">Pour passer en ROOT</span></a></li>
<li class="toclevel-1 tocsection-9"><a href="#Reconfigurer_OCS_Agent"><span class="tocnumber">9</span> <span class="toctext">Reconfigurer OCS Agent</span></a></li>
<li class="toclevel-1 tocsection-10"><a href="#Installation_d.27AMC_QCM"><span class="tocnumber">10</span> <span class="toctext">Installation d'AMC QCM</span></a></li>
<li class="toclevel-1 tocsection-11"><a href="#Modifiez_les_couleurs_du_Bash"><span class="tocnumber">11</span> <span class="toctext">Modifiez les couleurs du Bash</span></a></li>
</ul>
</div>

<h3><span class="mw-headline" id="Commandes_de_base">Commandes de base</span></h3>
<table class="wikitable">

<tr>
<th>
<p>Unix de base
</p>
</th>
<th>
</th>
<th>
<p>Commandes
</p>
</th>
<th>Options les plus fréquentes
</th></tr>
<tr>
<td>Changer répertoire courant
</td>
<td>
</td>
<td>cd
</td>
<td>
</td></tr>
<tr>
<td>Afficher contenu répertoire
</td>
<td>
</td>
<td>ls
</td>
<td>
</td></tr>
<tr>
<td>Nom répertoire courant
</td>
<td>
</td>
<td>pwd
</td>
<td>
</td></tr>
<tr>
<td>Créer répertoire
</td>
<td>
</td>
<td>mkdir
</td>
<td>
</td></tr>
<tr>
<td>Détruire répertoire
</td>
<td>
</td>
<td>rmdir
</td>
<td>
</td></tr>
<tr>
<td>Changer mot de passe
</td>
<td>
</td>
<td>passwd
</td>
<td>
</td></tr>
<tr>
<td>Fin de session
</td>
<td>
</td>
<td>exit, logout
</td>
<td>
</td></tr>
<tr>
<td>Copier des fichiers ou des répertoires
</td>
<td>
</td>
<td>cp
</td>
<td>
</td></tr>
<tr>
<td>Effacer des fichiers
</td>
<td>
</td>
<td>rm
</td>
<td> -f&#160;: ne demande pas de confirmation avant d'effacer
<p>-r&#160;: efface récursivement les fichiers ainsi que les répertoires
</p>
</td></tr>
<tr>
<td> Permet l'installation et le retrait de packages
</td>
<td>
</td>
<td>  apt-get
</td>
<td>update : met à jour la liste des packages disponibles en fonction des sources fournies ;
<p>upgrade : met à jour tous les packages déjà installés ;
</p><p>dist-upgrade : pareil au précédent mais permet également de passer à une version n+1, simplement, de la distribution ;
</p><p>install : installe un ou plusieurs packages ;
</p><p>remove&#160;: supprime un ou plusieurs packages ;
</p><p>clean : efface du disque dur les packages téléchargés.
</p>
</td></tr>
<tr>
<td> affiche les informations utilisateur et de groupe pour un utilisateur spécifié
</td>
<td>
</td>
<td> id
</td>
<td>
</td></tr>
<tr>
<td>
</td>
<td>
</td>
<td>
</td>
<td>
</td></tr></table>
<h3><span class="mw-headline" id="Activer_SSH">Activer SSH</span></h3>
<table class="wikitable">
<tr>
<th>Activer le service SSH sous Ubuntu
</th></tr>
<tr>
<td>apt-get install openssh-server
</td></tr></table>
<h3><span class="mw-headline" id="Nettoyer_sa_partition_.2Fboot">Nettoyer sa partition <b>/</b>boot</span></h3>
<table>
<tr>
<td>Identifier le kernel utilisé
</td></tr>
<tr>
<td>
<pre>uname -r
</pre>
</td></tr>
<tr>
<td>Identifier les kernels installés
</td></tr>
<tr>
<td>
<pre>dpkg -l | grep -Ei "linux-headers|linux-image"
</pre>
</td></tr>
<tr>
<td>Supprimer ceux qui ne sont plus utilisés <i>(dans le cas présent ci-dessous&#160;: 3.8.0-19)</i>
</td></tr>
<tr>
<td>
<pre>sudo apt-get remove linux-headers-3.8.0-19 linux-image-3.8.0-19 linux-headers-3.8.0-19-generic linux-image-3.8.0-19-generic
</pre>
</td></tr>
<tr>
<td><a href="http://wiki.pct.univ-lorraine.fr/index.php/File:Shell.png" class="image"><img alt="Shell.png" src="img/Shell.png" width="53" height="47" /></a> Nettoyer sa partition <b>/boot</b> de ses anciens kernels
</td></tr>
<tr>
<td>
<pre>$: sudo su
$: apt-get install byobu
</pre>
</td></tr>
<tr>
<td>
<pre>$: sudo purge-old-kernels --keep 3 -qy
</pre>
</td></tr>
<tr>
<td>Connaitre l'occupation disques par partitions
<pre>$: df -h
</pre>
</td></tr></table>
<h3><span class="mw-headline" id="Changer_le_Hostname_.28nom_d.27ordinateur.29_sous_Ubuntu">Changer le Hostname (nom d'ordinateur) sous Ubuntu</span></h3>
<p><b>1</b>. Éditez le fichier ‘hosts’&#160;:
</p>
<pre>nano /etc/hosts
</pre>
<p>Le fichier devrait ressembler à peu de chose à ceci&#160;:
</p><p>127.0.0.1 localhost
</p><p>127.0.1.1 un_hostname
</p><p>Changer «&#160;un_hostname&#160;» par le nouveau hostname / nom de l’ordinateur. 
</p><p><b>2</b>. Éditez le fichier ‘hostname’&#160;:
</p>
<pre>nano /etc/hostname
</pre>
<p>Ce fichier ne contient que votre hostname / nom d’ordinateur, alors changez le à nouveau comme précédemment,
</p><p>mais assurez vous bien que c’est le même nom que dans le fichier ‘/etc/hosts’.
</p><p><b>3</b>. Maintenant redémarrez les services hostname et réseau&#160;:
</p>
<pre>sudo service hostname restart
</pre>
<pre>sudo service networking restart
</pre>
<h3><span class="mw-headline" id="Copier_vers">Copier vers</span></h3>
<table>
<tr>
<td>
<pre>-C /"destination"
</pre>
</td></tr></table>
<h3><span class="mw-headline" id="Modification_des_droits:_Molden">Modification des droits: Molden</span></h3>
<p>Modification des droits lors de l'installation de Molden
</p>
<table>
<tr>
<td>
<pre>chown root.root molden5.7/
chown root.root  -R molden5.7/
</pre>
</td></tr></table>
<h3><span class="mw-headline" id="Fermer_une_application_qui_ne_r.C3.A9pond_plus">Fermer une application qui ne répond plus</span></h3>
<table>
<tr>
<td>
<pre>- Appuyez simultanément sur les touches Alt et F2 pour afficher le lanceur d'application. 
- Saisissez alors la commande suivante&#160;: gnome-system-monitor et cliquez sur le bouton Lancer. 
- Le moniteur système est alors affiché. Ouvrez l'onglet Processus.
- Les processus en cours d'exécution sont affichés.
- Vous pouvez fermer un processus récalcitrant en le sélectionnant et cliquant sur le bouton Terminer le processus. 
- Cliquez sur Terminer le processus pour confirmer l'opération et fermer l'application.
</pre>
</td></tr></table>
<h3><span class="mw-headline" id="Pour_passer_en_ROOT">Pour passer en ROOT</span></h3>
<p>ouvrez une console puis tapez:
</p>
<table>
<tr>
<td>
<pre>sudo -i 
</pre>
</td></tr></table>
<h3><span class="mw-headline" id="Reconfigurer_OCS_Agent">Reconfigurer OCS Agent</span></h3>
<p>ouvrez une console puis tapez:
</p>
<table>
<tr>
<td>
<pre>dpkg-reconfigure ocsinventory-agent 
</pre>
</td></tr></table>
<h3><span class="mw-headline" id="Installation_d.27AMC_QCM">Installation d'AMC QCM</span></h3>
<p><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://www.auto-multiple-choice.net/download-ubuntu.fr">https://www.auto-multiple-choice.net/download-ubuntu.fr</a>
</p><p>Installer AMC QCM et toutes ses dépendances.
</p><p>ouvrez une console puis tapez:
</p>
<table>
<tr>
<td>
<pre>sudo apt-get install auto-multiple-choice
</pre>
</td></tr></table>
<h3><span class="mw-headline" id="Modifiez_les_couleurs_du_Bash">Modifiez les couleurs du Bash</span></h3>
<p><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://doc.ubuntu-fr.org/ls_couleur">https://doc.ubuntu-fr.org/ls_couleur</a>
</p><p>Editez le fichier ~/.bashrc et y ajoutez&#160;: alias ls='ls --color'
</p>
<table class="wikitable">
<tr>
<td><b>Couleur</b>
</td>
<td><b>Signification</b>
</td></tr>
<tr>
<td>Couleur par défaut du shell
</td>
<td>Fichier standard
</td></tr>
<tr>
<td>Bleu
</td>
<td>Répertoire
</td></tr>
<tr>
<td>Cyan
</td>
<td>Lien symbolique
</td></tr>
<tr>
<td>Jaune
</td>
<td>Fichier FIFO et block
</td></tr>
<tr>
<td>Magenta
</td>
<td>Socket, fichier image (.jpg, .gif, .png, .tiff) et audio (.mp3, .ogg, .wav)
</td></tr>
<tr>
<td>Rouge
</td>
<td>Archive (.tar, .zip, .deb, .rpm)
</td></tr>
<tr>
<td>Vert
</td>
<td>Exécutable
</td></tr></table>
<pre>


Here are a couple of things you can do:

Editors + Code
A lot of editors have syntax highlighting support. vim and emacs have it on by default. You can also enable it under nano.

You can also syntax highlight code on the terminal by using Pygments as a command-line tool.

grep
grep --color=auto highlights all matches. You can also use export GREP_OPTIONS='--color=auto' to make it persistent without an alias. If you use --color=always, it'll use colour even when piping, which confuses things.

ls

ls --color=always

Colors specified by:

export LS_COLORS='rs=0:di=01;34:ln=01;36:mh=00:pi=40;33'

(hint: dircolors can be helpful)

PS1
You can set your PS1 (shell prompt) to use colours. For example:

PS1='\e[33;1m\u@\h: \e[31m\W\e[0m\$ '

Will produce a PS1 like:

[yellow]lucas@ubuntu: [red]~[normal]$

You can get really creative with this. As an idea:

PS1='\e[s\e[0;0H\e[1;33m\h    \t\n\e[1;32mThis is my computer\e[u[\u@\h:  \w]\$ '

Puts a bar at the top of your terminal with some random info. (For best results, also use alias clear="echo -e '\e[2J\n\n'".)

Getting Rid of Escape Sequences

If something is stuck outputting colour when you don't want it to, I use this sed line to strip the escape sequences:

sed "s/\[^[[0-9;]*[a-zA-Z]//gi"

If you want a more authentic experience, you can also get rid of lines starting with \e[8m, which instructs the terminal to hide the text. (Not widely supported.)

sed "s/^\[^[8m.*$//gi"

Also note that those ^[s should be actual, literal ^[s. You can type them by pressing ^V^[ in bash, that is Ctrl + V, Ctrl + [.

</pre>




</body></html>