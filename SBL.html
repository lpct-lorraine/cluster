<html>
<head><title>SBL</title></head>
<body>
<h1>SBL</h1><p><br />
Compiling SBL code
</p>
<div id="toc" class="toc"><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="#R.C3.A9f.C3.A9rent"><span class="tocnumber">1</span> <span class="toctext">Référent</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="#Web_site"><span class="tocnumber">2</span> <span class="toctext">Web site</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="#Requirements"><span class="tocnumber">3</span> <span class="toctext">Requirements</span></a></li>
<li class="toclevel-1 tocsection-4"><a href="#Cmake"><span class="tocnumber">4</span> <span class="toctext">Cmake</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="#Execution"><span class="tocnumber">5</span> <span class="toctext">Execution</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="#Compilation"><span class="tocnumber">6</span> <span class="toctext">Compilation</span></a></li>
</ul>
</div>

<h1><span class="mw-headline" id="R.C3.A9f.C3.A9rent">Référent</span></h1>
<p>Thérèse
</p>
<h1><span class="mw-headline" id="Web_site">Web site</span></h1>
<p><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://gitlab.inria.fr/abs/sbl">https://gitlab.inria.fr/abs/sbl</a>
</p><p><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://sbl.inria.fr/doc/sbl-installation-guide.html">https://sbl.inria.fr/doc/sbl-installation-guide.html</a>
</p>
<h1><span class="mw-headline" id="Requirements">Requirements</span></h1>
<ul><li> Eigen3</li></ul>
<p><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://directory.fsf.org/wiki/Eigen3">https://directory.fsf.org/wiki/Eigen3</a>
</p><p><a target="_blank" rel="nofollow noreferrer noopener" class="external free" href="https://eigen.tuxfamily.org/">https://eigen.tuxfamily.org/</a>
</p><p>module load compiler/gnu-10.2.0
</p>
<pre>
mkdir build1
cd build1
cmake ..  -DCMAKE_INSTALL_PREFIX=/auto/soft/eigen/3.4.0/
make install
# If the Eigen is installed in a non standard location, the EIGEN_DIR environment variable needs to point to the root directory of the Eigen library.
</pre>
<p>Les fichiers sont disponibles dans ce répertoire&#160;: /auto/soft/eigen/3.4.0/
</p>
<pre>
export EIGEN_DIR=/auto/soft/eigen/3.4.0/
</pre>
<ul><li> cmake</li></ul>
<p>module load cmake/3.21.1_gnu-8.4.0
</p><p><br />
</p>
<ul><li> boost</li></ul>
<pre>
export BOOST_ROOT=/auto/soft/boost/1.69-gnu8.4.0/
</pre>
<p><br />
</p>
<ul><li>mpfr  et mpfi</li></ul>
<pre>
wget https://mpfr.loria.fr/mpfr-current/mpfr-4.1.0.tar.bz2
wget http://perso.ens-lyon.fr/nathalie.revol/softwares/mpfi-1.5.4.tar.bz2

tar -jxf mpfr-4.1.0.tar.bz2
cd mpfr-4.1.0
./configure --prefix=/auto/soft/mpfr/4.1.0
make
make install
# Faire les export qui vont bien LD_LIBRARY_PATH, LIBRARY_PATH, C_INCLUDE_PATH

cd ..
tar -jxf mpfi-1.5.4.tar.bz2
cd mpfi-1.5.4
./configure --prefix=/auto/soft/mpfi/1.5.4
make 
make install
</pre>
<p>Les modules sont les suivants&#160;:
</p><p>module load mpfr/4.1.0 mpfi/1.5.4
</p>
<h1><span class="mw-headline" id="Cmake">Cmake</span></h1>
<pre>
export EIGEN3_INCLUDE_DIR=/auto/soft/eigen/3.4.0/include

cmake .. --debug-find -DCMAKE_INSTALL_PREFIX=~/progs/sbl-develop  -DSBL_APPLICATIONS=ON -DCGAL_DIR=~/progs/CGAL-5.2.4 -DMPFI_LIBRARIES=/auto/soft/mpfi/1.5.4/lib/ -DMPFI_INCLUDE_DIR=/auto/soft/mpfi/1.5.4/include/ -DEigen_eigen3_INCLUDEDIR=/auto/soft/eigen/3.4.0/include/ -DEigen_eigen3_PREFIX=/auto/soft/eigen/3.4.0/include -DEigen_eigen3_LIBDIR=/auto/soft/eigen/3.4.0/include/ -DEigen_eigen3_VERSION=3.4.0 -DEIGEN3_INCLUDE_DIR=/auto/soft/eigen/3.4.0/include/ -DEigen_INCLUDEDIR=/auto/soft/eigen/3.4.0/include/ -DMPFR_INCLUDE_DIR=/auto/soft/mpfr/4.1.0/include/ -DMPFR_LIBRARIES=/auto/soft/mpfr/4.1.0/lib/libmpfr.a -DMPFR_LIBRARIES_DIR=/auto/soft/mpfr/4.1.0/lib/

</pre>
<ul><li> Lors du make</li></ul>
<pre>
Edition du fichier ./CMakeFiles/sbl-tripeptide-loop-closure.exe.dir/flags.make
MOdif de "-I/auto/soft/eigen/3.4.0/" en "-I/auto/soft/eigen/3.4.0/include"

Modifier aussi (Therese-S 24 mai 2022) CXX_DEFINES en rajoutant l'option "-DBOOST_ALLOW_DEPRECATED_HEADERS". Necessaire si la version de boost est inferieure a 1.70.
</pre>
<ul><li> Edition lors de l'édition de lien du fichier CMakeFiles/sbl-tripeptide-loop-closure.exe.dir/link.txt</li></ul>
<pre>
ajout de "/auto/soft/mpfr/4.1.0/lib/libmpfr.so" dans la liste des libs
</pre>
<p><br />
</p>
<h1><span class="mw-headline" id="Execution">Execution</span></h1>
<pre>
 ./sbl-tripeptide-loop-closure.exe 

Copyright Inria / Algorithms - Biology - Structure, 2022.
Version: 2.1.0.

General Options:
  -h [ --help ]                         Print this help message.
  -c [ --config-file ] arg              Read options from a configuration file 
                                        after those in command line.
  -w [ --workflow ]                     Print the workflow of the application 
                                        without any run.
  -v [ --verbose ] [=arg(=3)] (=0)      Dumps high level statistics:
                                        -- 0 (default)&#160;: no output gets printed
                                        on the console.
                                        -- 1 (run level): the program prints 
                                        intermediate statistics on the tasks 
                                        performed.
                                        -- 2 (final statistics): the program 
                                        prints the final statistics.
                                        -- 3 (all, implicit behavior if -v is 
                                        used): run level + final statistics.
  -l [ --log ]                          Redirects the standard output into a 
                                        log file (except for the help and the 
                                        workflow). It sets the verbose level to
                                        final statistics, unless the verbose 
                                        level is specified separately.
  -C [ --colored-log ]                  Color the log (red for module and 
                                        loader names, green for statistics, 
                                        blue for report).
  -d [ --directory-output ] arg (=.)    Output directory containing the output 
                                        files (default is current).
  -o [ --output-prefix ] [=arg(=IMPLICIT)]
                                        Prefix to add to all output file names.
  -u [ --uid ]                          Add a unique identifier to file 
                                        prefixes based on local time.
  --module-uid                          Add a unique identifier to file 
                                        prefixes for each reported module.
  -r [ --report-at-end ]                Make all reports at the end rather than
                                        at each step.
  --report-options                      Creates a XML file listing the value of
                                        all options used for this run.
  --quiet-collection                    If set, collections of modules do not 
                                        print any statistics during and after 
                                        the run.

Constraints Loader:
  -f [ --filename ] arg                 Input pdb file(must have .pdb suffix).
  -s [ --standard-internals ]           Use standard internal values
  -i [ --user-defined-internals ] arg   specify internal values using a file
  --data-internals                      Use the internals found in data(all 
                                        backbone atoms in the loop must be 
                                        present in the file).
  --resids arg                          resids(idn) concateneted with eventual 
                                        insertion codes(cn) in the format 
                                        id1c1-id2c2-id3c3
  --chainid arg                         id of the chain in which the loop is 
                                        found
  -p [ --precision-factor ] arg         Allocated space to the mantissa is 
                                        multiplied by this factor
  --show-whole-protein                  add all atom lines outside the 
                                        concerned segment to output
  --show-side-chains                    rotate gap residues in between selected
                                        residues together with their side chain
                                        and add their side chain to output
</pre>
<h1><span class="mw-headline" id="Compilation">Compilation</span></h1>




</body></html>